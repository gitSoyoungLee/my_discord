# Spring λ°±μ—”λ“ νΈλ™ 1κΈ° μ¤ν”„λ¦°νΈ λ―Έμ… μ μ¶ λ¦¬ν¬μ§€ν† λ¦¬
# μ¤ν”„λ¦°νΈ λ―Έμ… 3


1. [λ©ν‘](#λ©ν‘)
2. [μ”κµ¬μ‚¬ν•­π’](#μ”κµ¬μ‚¬ν•­)
3. [λ‚μ μ„¤κ³„β­](#λ‚μ-μ„¤κ³„)

## λ©ν‘
- Java ν”„λ΅μ νΈλ¥Ό Spring ν”„λ΅μ νΈλ΅ λ§μ΄κ·Έλ μ΄μ…
- μμ΅΄μ„± κ΄€λ¦¬λ¥Ό IoC Containerμ— μ„μ„ν•λ„λ΅ λ¦¬ν©ν† λ§
- λΉ„μ¦λ‹μ¤ λ΅μ§ κ³ λ„ν™”

## μ”κµ¬μ‚¬ν•­π’
### κΈ°λ³Έ μ”κµ¬μ‚¬ν•­
#### Spring ν”„λ΅μ νΈ μ΄κΈ°ν™”
#### Bean μ„ μ–Έ λ° ν…μ¤νΈ

- File*Repository κµ¬ν„μ²΄λ¥Ό Repository μΈν„°νμ΄μ¤μ BeanμΌλ΅ λ“±λ΅ν•μ„Έμ”.

- Basic*Service κµ¬ν„μ²΄λ¥Ό Service μΈν„°νμ΄μ¤μ BeanμΌλ΅ λ“±λ΅ν•μ„Έμ”.
- JavaApplicationμ—μ„ ν…μ¤νΈν–λ μ½”λ“λ¥Ό DiscodeitApplicationμ—μ„ ν…μ¤νΈν•΄λ³΄μ„Έμ”.
- JavaApplication μ main λ©”μ†λ“λ¥Ό μ μ™Έν• λ¨λ“  λ©”μ†λ“λ¥Ό DiscodeitApplicationν΄λμ¤λ΅ λ³µμ‚¬ν•μ„Έμ”.

### μ¶”κ°€ κΈ°λ¥ μ”κµ¬μ‚¬ν•­
#### μ‹κ°„ νƒ€μ… λ³€κ²½ν•κΈ°
- [x] μ‹κ°„μ„ λ‹¤λ£¨λ” ν•„λ“μ νƒ€μ…μ€ Instantλ΅ ν†µμΌν•©λ‹λ‹¤.
κΈ°μ΅΄μ— μ‚¬μ©ν•λ Longλ³΄λ‹¤ κ°€λ…μ„±μ΄ λ›°μ–΄λ‚λ©°, μ‹κ°„λ€(Time Zone) λ³€ν™κ³Ό μ •λ°€ν• μ‹κ°„ μ—°μ‚°μ΄ κ°€λ¥ν•΄ ν™•μ¥μ„±μ΄ λ†’μµλ‹λ‹¤.
#### μƒλ΅μ΄ λ„λ©”μΈ μ¶”κ°€ν•κΈ°
- [x] κ³µν†µ: μ•μ„ μ •μν• λ„λ©”μΈ λ¨λΈκ³Ό λ™μΌν•κ² κ³µν†µ ν•„λ“(id, createdAt, updatedAt)λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
- [x] ReadStatus
μ‚¬μ©μκ°€ μ±„λ„ λ³„ λ§μ§€λ§‰μΌλ΅ λ©”μ‹μ§€λ¥Ό μ½μ€ μ‹κ°„μ„ ν‘ν„ν•λ” λ„λ©”μΈ λ¨λΈμ…λ‹λ‹¤. μ‚¬μ©μλ³„ κ° μ±„λ„μ— μ½μ§€ μ•μ€ λ©”μ‹μ§€λ¥Ό ν™•μΈν•κΈ° μ„ν•΄ ν™μ©ν•©λ‹λ‹¤.
- [x] UserStatus
μ‚¬μ©μ λ³„ λ§μ§€λ§‰μΌλ΅ ν™•μΈλ μ ‘μ† μ‹κ°„μ„ ν‘ν„ν•λ” λ„λ©”μΈ λ¨λΈμ…λ‹λ‹¤. μ‚¬μ©μμ μ¨λΌμΈ μƒνƒλ¥Ό ν™•μΈν•κΈ° μ„ν•΄ ν™μ©ν•©λ‹λ‹¤.
- [x] λ§μ§€λ§‰ μ ‘μ† μ‹κ°„μ„ κΈ°μ¤€μΌλ΅ ν„μ¬ λ΅κ·ΈμΈν• μ μ €λ΅ νλ‹¨ν•  μ μλ” λ©”μ†λ“λ¥Ό μ •μν•μ„Έμ”.
λ§μ§€λ§‰ μ ‘μ† μ‹κ°„μ΄ ν„μ¬ μ‹κ°„μΌλ΅λ¶€ν„° 5λ¶„ μ΄λ‚΄μ΄λ©΄ ν„μ¬ μ ‘μ† μ¤‘μΈ μ μ €λ΅ κ°„μ£Όν•©λ‹λ‹¤.
- [x] BinaryContent
μ΄λ―Έμ§€, νμΌ λ“± λ°”μ΄λ„λ¦¬ λ°μ΄ν„°λ¥Ό ν‘ν„ν•λ” λ„λ©”μΈ λ¨λΈμ…λ‹λ‹¤. μ‚¬μ©μμ ν”„λ΅ν•„ μ΄λ―Έμ§€, λ©”μ‹μ§€μ— μ²¨λ¶€λ νμΌμ„ μ €μ¥ν•κΈ° μ„ν•΄ ν™μ©ν•©λ‹λ‹¤.
- [x] μμ • λ¶κ°€λ¥ν• λ„λ©”μΈ λ¨λΈλ΅ κ°„μ£Όν•©λ‹λ‹¤. λ”°λΌμ„ updatedAt ν•„λ“λ” μ •μν•μ§€ μ•μµλ‹λ‹¤.
- [x] User, Message λ„λ©”μΈ λ¨λΈκ³Όμ μμ΅΄ κ΄€κ³„ λ°©ν–¥μ„±μ„ μ κ³ λ ¤ν•μ—¬ id μ°Έμ΅° ν•„λ“λ¥Ό μ¶”κ°€ν•μ„Έμ”.
- [x] κ° λ„λ©”μΈ λ¨λΈ λ³„ λ ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•μ„Έμ”.
λ ν¬μ§€ν† λ¦¬ κµ¬ν„μ²΄(File, JCF)λ” μ•„μ§ κµ¬ν„ν•μ§€ λ§μ„Έμ”. μ΄μ–΄μ§€λ” μ„λΉ„μ¤ κ³ λ„ν™” μ”κµ¬μ‚¬ν•­μ— λ”°λΌ λ ν¬μ§€ν† λ¦¬ μΈν„°νμ΄μ¤μ— λ©”μ†λ“κ°€ μ¶”κ°€λ  μ μμ–΄μ”.
#### UserService κ³ λ„ν™”
**create**
- [x] μ„ νƒμ μΌλ΅ ν”„λ΅ν•„ μ΄λ―Έμ§€λ¥Ό κ°™μ΄ λ“±λ΅ν•  μ μμµλ‹λ‹¤.
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
- μ μ €λ¥Ό λ“±λ΅ν•κΈ° μ„ν•΄ ν•„μ”ν• νλΌλ―Έν„°, ν”„λ΅ν•„ μ΄λ―Έμ§€λ¥Ό λ“±λ΅ν•κΈ° μ„ν•΄ ν•„μ”ν• νλΌλ―Έν„° λ“±
- [x] usernameκ³Ό emailμ€ λ‹¤λ¥Έ μ μ €μ™€ κ°™μΌλ©΄ μ•λ©λ‹λ‹¤.
- [x] UserStatusλ¥Ό κ°™μ΄ μƒμ„±ν•©λ‹λ‹¤.

**find, findAll**

DTOλ¥Ό ν™μ©ν•μ—¬:
- [x] μ‚¬μ©μμ μ¨λΌμΈ μƒνƒ μ •λ³΄λ¥Ό κ°™μ΄ ν¬ν•¨ν•μ„Έμ”.
- [x]  ν¨μ¤μ›λ“ μ •λ³΄λ” μ μ™Έν•μ„Έμ”.
**update**
- [x] μ„ νƒμ μΌλ΅ ν”„λ΅ν•„ μ΄λ―Έμ§€λ¥Ό λ€μ²΄ν•  μ μμµλ‹λ‹¤.
[x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
μμ • λ€μƒ κ°μ²΄μ id νλΌλ―Έν„°, μμ •ν•  κ°’ νλΌλ―Έν„°
**delete**
[x] κ΄€λ ¨λ λ„λ©”μΈλ„ κ°™μ΄ μ‚­μ ν•©λ‹λ‹¤.
BinaryContent(ν”„λ΅ν•„), UserStatus

#### AuthService κµ¬ν„
**login**
- [x] username, passwordκ³Ό μΌμΉν•λ” μ μ €κ°€ μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
- [x] μΌμΉν•λ” μ μ €κ°€ μλ” κ²½μ°: μ μ € μ •λ³΄ λ°ν™
- [x] μΌμΉν•λ” μ μ €κ°€ μ—†λ” κ²½μ°: μμ™Έ λ°μƒ
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
#### ChannelService κ³ λ„ν™”
**create**
- PRIVATE μ±„λ„κ³Ό PUBLIC μ±„λ„μ„ μƒμ„±ν•λ” λ©”μ†λ“λ¥Ό λ¶„λ¦¬ν•©λ‹λ‹¤.
- [x] λ¶„λ¦¬λ κ°κ°μ λ©”μ†λ“λ¥Ό DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
PRIVATE μ±„λ„μ„ μƒμ„±ν•  λ•:
- [x] μ±„λ„μ— μ°Έμ—¬ν•λ” Userμ μ •λ³΄λ¥Ό λ°›μ•„ User λ³„ ReadStatus μ •λ³΄λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
- [x] nameκ³Ό description μ†μ„±μ€ μƒλµν•©λ‹λ‹¤.
PUBLIC μ±„λ„μ„ μƒμ„±ν•  λ•μ—λ” κΈ°μ΅΄ λ΅μ§μ„ μ μ§€ν•©λ‹λ‹¤.

**find**

- DTOλ¥Ό ν™μ©ν•μ—¬:
- [x] ν•΄λ‹Ή μ±„λ„μ κ°€μ¥ μµκ·Ό λ©”μ‹μ§€μ μ‹κ°„ μ •λ³΄λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
- [x] PRIVATE μ±„λ„μΈ κ²½μ° μ°Έμ—¬ν• Userμ id μ •λ³΄λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.

**findAll**

- DTOλ¥Ό ν™μ©ν•μ—¬:
- [x] ν•΄λ‹Ή μ±„λ„μ κ°€μ¥ μµκ·Ό λ©”μ‹μ§€μ μ‹κ°„ μ •λ³΄λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
- [x] PRIVATE μ±„λ„μΈ κ²½μ° μ°Έμ—¬ν• Userμ id μ •λ³΄λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
- [x] νΉμ • Userκ°€ λ³Ό μ μλ” Channel λ©λ΅μ„ μ΅°νν•λ„λ΅ μ΅°ν μ΅°κ±΄μ„ μ¶”κ°€ν•κ³ , λ©”μ†λ“ λ…μ„ λ³€κ²½ν•©λ‹λ‹¤. findAllByUserId
- [x] PUBLIC μ±„λ„ λ©λ΅μ€ μ „μ²΄ μ΅°νν•©λ‹λ‹¤.
- [x] PRIVATE μ±„λ„μ€ μ΅°νν• Userκ°€ μ°Έμ—¬ν• μ±„λ„λ§ μ΅°νν•©λ‹λ‹¤.

**update**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
μμ • λ€μƒ κ°μ²΄μ id νλΌλ―Έν„°, μμ •ν•  κ°’ νλΌλ―Έν„°
- [x] PRIVATE μ±„λ„μ€ μμ •ν•  μ μ—†μµλ‹λ‹¤.

**delete**
- [x] κ΄€λ ¨λ λ„λ©”μΈλ„ κ°™μ΄ μ‚­μ ν•©λ‹λ‹¤.

Message, ReadStatus

#### MessageService κ³ λ„ν™”

**create**
- [x] μ„ νƒμ μΌλ΅ μ—¬λ¬ κ°μ μ²¨λ¶€νμΌμ„ κ°™μ΄ λ“±λ΅ν•  μ μμµλ‹λ‹¤.
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.

**findAll**
- [x] νΉμ • Channelμ Message λ©λ΅μ„ μ΅°νν•λ„λ΅ μ΅°ν μ΅°κ±΄μ„ μ¶”κ°€ν•κ³ , λ©”μ†λ“ λ…μ„ λ³€κ²½ν•©λ‹λ‹¤. findallByChannelId

**update**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
μμ • λ€μƒ κ°μ²΄μ id νλΌλ―Έν„°, μμ •ν•  κ°’ νλΌλ―Έν„°

**delete**
- [x] κ΄€λ ¨λ λ„λ©”μΈλ„ κ°™μ΄ μ‚­μ ν•©λ‹λ‹¤.
μ²¨λ¶€νμΌ(BinaryContent)

#### ReadStatusService κµ¬ν„

**create**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
- [x] κ΄€λ ¨λ Channelμ΄λ‚ Userκ°€ μ΅΄μ¬ν•μ§€ μ•μΌλ©΄ μμ™Έλ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.
- [x] κ°™μ€ Channelκ³Ό Userμ™€ κ΄€λ ¨λ κ°μ²΄κ°€ μ΄λ―Έ μ΅΄μ¬ν•λ©΄ μμ™Έλ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.

**find**
- [x] idλ΅ μ΅°νν•©λ‹λ‹¤.

**findAllByUserId**
- [x] userIdλ¥Ό μ΅°κ±΄μΌλ΅ μ΅°νν•©λ‹λ‹¤.

**update**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
μμ • λ€μƒ κ°μ²΄μ id νλΌλ―Έν„°, μμ •ν•  κ°’ νλΌλ―Έν„°

**delete**
- [x] idλ΅ μ‚­μ ν•©λ‹λ‹¤.

#### UserStatusService κ³ λ„ν™”

**create**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
- [x] κ΄€λ ¨λ Userκ°€ μ΅΄μ¬ν•μ§€ μ•μΌλ©΄ μμ™Έλ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.
- [x] κ°™μ€ Userμ™€ κ΄€λ ¨λ κ°μ²΄κ°€ μ΄λ―Έ μ΅΄μ¬ν•λ©΄ μμ™Έλ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.

**find**
- [x] idλ΅ μ΅°νν•©λ‹λ‹¤.

**findAll**
- [x] λ¨λ“  κ°μ²΄λ¥Ό μ΅°νν•©λ‹λ‹¤.

**update**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.
μμ • λ€μƒ κ°μ²΄μ id νλΌλ―Έν„°, μμ •ν•  κ°’ νλΌλ―Έν„°

**updateByUserId**
- [x] userId λ΅ νΉμ • Userμ κ°μ²΄λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.

**delete**
- [x] idλ΅ μ‚­μ ν•©λ‹λ‹¤.

#### BinaryContentService κµ¬ν„

**create**
- [x] DTOλ¥Ό ν™μ©ν•΄ νλΌλ―Έν„°λ¥Ό κ·Έλ£Ήν™”ν•©λ‹λ‹¤.

**find**
- [x] idλ΅ μ΅°νν•©λ‹λ‹¤.

**findAllByIdIn**
- [x] id λ©λ΅μΌλ΅ μ΅°νν•©λ‹λ‹¤.

**delete**
- [x] idλ΅ μ‚­μ ν•©λ‹λ‹¤.


#### μƒλ΅μ΄ λ„λ©”μΈ Repository κµ¬ν„μ²΄ κµ¬ν„
- [x] μ§€κΈκΉμ§€ μΈν„°νμ΄μ¤λ΅ μ„¤κ³„ν• κ°κ°μ Repositoryλ¥Ό JCF, Fileλ΅ κ°κ° κµ¬ν„ν•μ„Έμ”.


### μ‹¬ν™” μ”κµ¬μ‚¬ν•­

#### Bean λ‹¤λ£¨κΈ°

- [x]  Repository κµ¬ν„μ²΄ μ¤‘μ— μ–΄λ–¤ κµ¬ν„μ²΄λ¥Ό BeanμΌλ΅ λ“±λ΅ν• μ§€ Java μ½”λ“μ λ³€κ²½ μ—†μ΄ application.yaml μ„¤μ • κ°’μ„ ν†µν•΄ μ μ–΄ν•΄λ³΄μ„Έμ”.

```
# application.yaml
discodeit:
    repository: 
        type: jcf   # jcf | file
```

- [x] discodeit.repository.type μ„¤μ •κ°’μ— λ”°λΌ Repository κµ¬ν„μ²΄κ°€ μ •ν•΄μ§‘λ‹λ‹¤.
  - [x] κ°’μ΄ jcf μ΄κ±°λ‚ μ—†μΌλ©΄ JCF*Repository κµ¬ν„μ²΄κ°€ BeanμΌλ΅ λ“±λ΅λμ–΄μ•Ό ν•©λ‹λ‹¤.
  - [x] κ°’μ΄ file μ΄λ©΄ File*Repository κµ¬ν„μ²΄κ°€ BeanμΌλ΅ λ“±λ΅λμ–΄μ•Ό ν•©λ‹λ‹¤.

- [x]  File*Repository κµ¬ν„μ²΄μ νμΌμ„ μ €μ¥ν•  λ””λ ‰ν† λ¦¬ κ²½λ΅λ¥Ό application.yaml μ„¤μ • κ°’μ„ ν†µν•΄ μ μ–΄ν•΄λ³΄μ„Έμ”.

```
# application.yaml
discodeit:
    repository: 
        type: jcf   # jcf | file
        file-directory: .discodeit

```


## λ‚μ μ„¤κ³„β­




